<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js"> <!--<![endif]-->
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-C4NP4XRMJF"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C4NP4XRMJF');
</script>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="description" content="How Spotify knows exactly what you want to listen to">

  <meta name="author" content="Bian Lee">
  <title>How Spotify knows exactly what you want to listen to</title>

  <!-- Mobile Specific Meta-->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Favicon -->
  <link rel="shortcut icon" type="image/png" href="/images/logo.png"/>
  <!-- bootstrap.min css -->
  <link rel="stylesheet" href="/plugins/bootstrap/bootstrap.min.css">
  <!-- Ionic Icon Css -->
  <link rel="stylesheet" href="/plugins/Ionicons/css/ionicons.min.css">
  <!-- animate.css -->
  <link rel="stylesheet" href="/plugins/animate-css/animate.css">
  <!-- Magnify Popup -->
  <link rel="stylesheet" href="/plugins/magnific-popup/magnific-popup.css">
  <!-- Owl Carousel CSS -->
  <link rel="stylesheet" href="/plugins/slick/slick.css">

  <!-- Main Stylesheet -->
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/css/post.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
</head>

<body id="body" style="background-color: white;">

  <header class="navigation">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<!-- header Nav Start -->
					<nav class="navbar" style="margin-bottom: 6px;">
						<div class="container-fluid">
							<!-- Brand and toggle get grouped for better mobile display -->
							<div class="navbar-header">
								<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
								<span class="sr-only">Toggle navigation</span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								<span class="icon-bar"></span>
								</button>
								<a class="navbar-brand" href="/">
									<img src="/images/logoTwo.png" alt="Logo" width="180">
								</a>
							</div>
							<!-- Collect the nav links, forms, and other content for toggling -->
							<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
								<ul class="nav navbar-nav navbar-right">
									<li class="dropdown">
										<a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">About <span class="ion-ios-arrow-down"></span></a>
										<ul class="dropdown-menu">
											<li><a href="/executive">Executive Board</a></li>
                      						<li><a href="/advisory">Advisory Board</a></li>
											<li><a href="/chapters">Chapters</a></li>
											<li><a href="/team">Our Team</a></li>
										</ul>
									</li>
									<li class="dropdown">
										<a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Media <span class="ion-ios-arrow-down"></span></a>
										<ul class="dropdown-menu">
											<li><a href="/media/speaker">Speaker Series</a></li>
											<li><a href="/media/talks">InterSTEM Talks</a></li>
											<li><a href="/media/csvideos">APCSA Series</a></li>
										</ul>
									</li>

									<!--
									<li class="dropdown">
										<a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Events <span class="ion-ios-arrow-down"></span></a>
										<ul class="dropdown-menu">
											<li><a href="/events/writingContest">Writing Contest</a></li>
											<li><a href="/events/writingWorkshop">Writing Workshop</a></li>
											<li><a href="https://interstembowl.ml" target="_blank">InterSTEM Bowl</a></li> -
											<li><a href="/codingbootcamp">Coding Bootcamp</a></li>
										</ul>
									</li> -->

									<li class="dropdown">
										<a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Contest <span class="ion-ios-arrow-down"></span></a>
										<ul class="dropdown-menu">
											<!-- <li><a href="/news">News</a></li> -->
											<li><a href="/events/writingContest">Writing Contest</a></li>
										<!-- 	<li><a href="/codingbootcamp">Coding Bootcamp</a></li> -->
										</ul>
									</li>

									<li><a href="/blog">Blog</a></li>
									<!-- <li><a href="/interlings">Interlings</a></li> -->
									<li class="dropdown">
										<a class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Research <span class="ion-ios-arrow-down"></span></a>
										<ul class="dropdown-menu">
                      <li><a href="/research/21-22.html">21-22 School Year</a></li>
                      <li><a href="/research/isrp">2021 Summer</a></li>
                      <li><a href="/research/irp">20-21 School Year</a></li>
										</ul>
									</li>
									<li><a href="/tutoring">Tutoring</a></li>
									<li><a href="/apply" class="gradient-btn">Apply</a></li>
								</ul>
								</div><!-- /.navbar-collapse </li> -->
							</div><!-- /.container-fluid -->
						</nav>
					</div>
				</div>
			</div>
		</header><!-- header close -->


<br>
<section>
	<div class="container">
		<h2 style="font-family: Ergonomique Bold">How Spotify knows exactly what you want to listen to</h2>
<p>Rachel Huang. 07/10/2021</p>
<hr />

<p><img src="/images/blogs/2021/july/spotifyCover.png" width="60%" style="display: block; margin: 0 auto" /></p>
<center><i>Algorithm-based streaming platform Spotify curates personalized playlists for users based on their favorite music <a href="https://www.spotify.com/us/" target="_blank">(Spotify)</a>.</i></center>

<p>Spotify. As the biggest music streaming platform in the world, Spotify has two main advantages over its competitors: its large and diverse reserves of music consisting of over 70 million songs and its ability to figure out exactly what you want to listen to. Utilizing a search engine that combines multiple machine learning and data analysis models, Spotify collects data from your playlists and then finds similar songs to recommend to you. The personalization of Spotify can be broken down into two main parts: its data infrastructure and personalization algorithm.</p>

<p><b>Data Infrastructure</b>
<br />Open-source Apache software platforms Kafka, Storm, Crunch, and Cassandra make up the foundation of Spotify. These software systems seamlessly work together to collect and analyze data in real-time and then store it in user profiles as personalized suggestions according to the user’s preference. To make up Spotify’s personalization tech stack (in computing, a stack is a data structure used for storage), a sequence composed of these software systems is run: Kafka collects data, Storm and Hadoop Distributed File System (HDFS) process the data in real-time, Crunch further processes the data, and everything is stored in Cassandra.</p>

<p><img src="/images/blogs/2021/july/spotifyOne.png" width="70%" style="display: block; margin: 0 auto" /></p>
<center><i>A diagram of data flow in Spotify <a href="https://engineering.atspotify.com/2015/01/09/personalization-at-spotify-using-cassandra/#:~:text=We%20help%20our%20users%20discover,and%20distastes%20in%20different%20contexts." target="_blank">(Spotify)</a>.</i></center>

<p>The Cassandra database, Spotify’s storage unit, consists of over 100 Cassandra clusters, each containing a nested storage system within itself. The sequential layering of the <a href="https://data-flair.training/blogs/cassandra-cluster/#:~:text=The%20cluster%20is%20a%20collection,storage%20unit%20in%20a%20database." target="_blank">shells</a> can be represented as follows: cluster → nodes → keyspace → column families→ rows → column. The nodes are made up of computers that share data with each other, and each subsequent shell is a more specific classification of the data in the shell before it. User profile attributes and metadata about playlists and artists are stored in Cassandra clusters.</p>

<p><b>How the Personalization Algorithm Works</b>
<br />A popular feature of Spotify is the Discover Weekly playlist, a mixtape of 30 new songs that is updated every Monday. This playlist is the best example of Spotify’s personalization algorithm as its songs are directly determined by Spotify’s discovery engine, a mesh of the three data analysis models Collaborative Filtering, Natural Language Processing (NLP), and Audio Analysis. The Collaborative Filtering models rely on data that is stored in immense matrices containing millions of rows and columns, each row representing a user and each column representing a song. After running a matrix factorization formula (with Python libraries) on the user-song matrix, two vectors are produced. The first vector represents a user’s taste in music, and the second vector represents a song’s characteristics. These two vectors are unique to each user, and Spotify recommends songs by comparing your vector to other users’ vectors to find new songs that are similar to the music you are already listening to.</p>

<p><img src="/images/blogs/2021/july/spotifyTwo.png" width="70%" style="display: block; margin: 0 auto" /></p>
<center><i>From left to right: a section of the user--song matrix, a user vector, a song factor <a href="https://medium.com/s/story/spotifys-discover-weekly-how-machine-learning-finds-your-new-music-19a41ab76efe" target="_blank">(Medium)</a>.</i></center>

<p><br />
While the Collaborative Filtering models analyze data that is solely from Spotify, the NLP models analyze text on the internet about the songs in Spotify’s database, whether it be news articles about popular artists or tweets about new music. The NLP models use <a href="https://cloud.google.com/natural-language/docs/analyzing-sentiment" target="_blank">sentiment analysis APIs</a> to create vectors from this collected text that can then be compared to determine if two pieces of music are culturally similar to one another. Finally, audio models analyze the raw audio tracks themselves, an “equalizing” measure built into Spotify’s recommendation models that provide new artists with the same chances of being placed into a user’s Discover Weekly playlist compared to popular artists since audio analysis doesn’t discriminate against song popularity. The audio models use convolutional neural networks to analyze the soundtracks of songs by inputting data as time-frequency representations of audio frames. The frames are then concatenated to form a spectrogram and passed through the convolutional layers of the model, ultimately computing the representative statistics of the song, like the time signature, key, and tempo.</p>

<p><img src="/images/blogs/2021/july/spotifyThree.png" width="70%" style="display: block; margin: 0 auto" /></p>
<center><i>A diagram of the audio model; rectangles represent the convolutional layers <a href="https://medium.com/s/story/spotifys-discover-weekly-how-machine-learning-finds-your-new-music-19a41ab76efe" target="_blank">(Medium)</a>.</i></center>
<p><br /></p>

<p>Where the Discover Weekly Playlist is a representative slice of Spotify’s personalization ability, Spotify’s Home Screen is the whole “personalized experience” pie. The <a href="https://engineering.atspotify.com/2020/01/16/for-your-ears-only-personalizing-spotify-home-with-machine-learning/" target="_blank">Home Screen</a> is organized like a bookcase with each shelf (or each horizontal section) displaying your favorite books (the square images that represent playlists, podcasts, artists, albums, etc., more formally known as cards). Each user’s bookcase is different as it is based on their most recent activity, favorite playlists, new releases, and custom mixtapes such as the Discover Weekly Playlist. The cards in each shelf are constantly updated with the help of machine learning. In this case, machine learning can be divided into two sections, exploitation and exploration. Exploitation displays the cards based on your previous activity, whether it be the playlist you last listened to or the artist you started following recently. On the other hand, the exploration aspect is based on initiating user engagement by displaying suggested content, seeing how users respond, and then modifying the suggested content according to user interaction.</p>

<p>As younger generations can attest, the <a href="https://magazine.weverse.io/article/view?lang=en&amp;colca=6&amp;num=133" target="_blank">music industry</a> is now centered on  digitally streaming music. For example, the International Federation of the Phonographic Industry’s reports show that music streaming made up 62% of the 2020 global music industry, raking in a grand total of $13.4 billion for artists and labels worldwide. <a href="https://newsroom.spotify.com/company-info/" target="_blank">Spotify</a> is at the forefront of this streaming movement with a user community of 356 million people that continues to grow every day. Spotify is necessary for singers to flourish, because their music has the possibility of being recommended to anybody and everybody, thanks to Spotify’s song analysis algorithms. 30% of plays on Spotify are credited to personalized recommendations, which serves as evidence of how Spotify is truly at the intersection of the roads of personalization and technology.</p>

<p>With Spotify continuing to push the boundaries of what music streaming can be, the only limit to the music industry is our imagination.</p>

<p><br />
Cover Photo: <a href="https://www.pinterest.com/pin/497366352578717874/" target="_blank">(Pinterest)</a></p>
<hr />

<p><img src="/images/writingTeam/noProfile.jpg" width="170" style="float: left; margin-right: 30px; margin-bottom: 20px;" /></p>
<div style="margin-bottom: 5%;">
<span style="font-size: 30px; font-weight: 900;">Rachel Huang</span>
<br />
</div>

	</div>


</section>

<section>
  <div class="container">
    <hr>
<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://interstem.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</container>
</section>
<br><br><br>
<!-- footer Start -->
<footer class="footer" style="background-color: black; margin-top: -40px;">
	<div class="container">
			<div class="col-md-12">
				<div class="footer-manu" >
					<ul>
            <li><a href="https://discord.com/invite/Y9KSFVZ" target="_blank" class="sm-link" style="font-size: 25px;"><i class="fab fa-discord"></i></a>
            <li><a href="https://www.instagram.com/inter.stem/" target="_blank" class="sm-link" style="font-size: 25px;"><i class="fab fa-instagram"></i></a>
            <li><a href="https://www.linkedin.com/company/interstem-nonprofit/" target="_blank" class="sm-link" style="font-size: 25px;"><i class="fab fa-linkedin"></i></a>
            <li><a href="https://github.com/InterSTEMDev" target="_blank" class="sm-link" style="font-size: 25px;"><i class="fab fa-github"></i></a>
            <li><a href="https://open.spotify.com/show/2gIXhZA2OjXT3HVchKFudm" target="_blank" class="sm-link" style="font-size: 25px;"><i class="fab fa-spotify"></i></a>
            <li><a href="https://www.youtube.com/channel/UCEe2XiVONWjo0W3exJQz0bg" target="_blank" class="sm-link" style="font-size: 25px;"><i class="fab fa-youtube"></i></a>
            <li><a href="https://www.facebook.com/groups/308558836953358" target="_blank" class="sm-link" style="font-size: 25px;"><i class="fab fa-facebook"></i></a>
          </ul>
				</div>
        <!--
        <p class="copyright" style="font-size: 18px;"><b>interstemplatform@gmail.com</b><a>
  <br><p class="copyright" style="font-size: 18px;"><b>interstemtutoring@gmail.com</b><a>
  <br><p class="copyright" style="font-size: 18px;"><b>interstemwriting@gmail.com</b><a>
    <br><p class="copyright" style="font-size: 18px;"><b>interstemresearch@gmail.com</b><a><br><br>
          <p class="copyright" style="font-size: 18px;"><b>Developed by InterSTEM Tech Team<b></p>
				<br>
      -->
			</div>
		</div>
	</div>
</footer>




    <!--
    Essential Scripts
    =====================================-->


    <!-- Main jQuery -->
    <script src="/plugins/jQuery/jquery.min.js"></script>
    <!-- Bootstrap 3.1 -->
    <script src="/plugins/bootstrap/bootstrap.min.js"></script>
    <!-- slick Carousel -->
    <script src="/plugins/slick/slick.min.js"></script>
    <script src="/plugins/magnific-popup/jquery.magnific-popup.min.js"></script>
    <!-- filter -->
    <script src="/plugins/shuffle/shuffle.min.js"></script>
    <script src="/plugins/SyoTimer/jquery.syotimer.min.js"></script>

    <!-- Form Validator -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery.form/3.32/jquery.form.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.11.1/jquery.validate.min.js"></script>

    <!-- Google Map -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCcABaamniA6OL5YvYSpB3pFMNrXwXnLwU&libraries=places"></script>
    <script src="/plugins/google-map/map.js"></script>

    <script src="/js/script.js"></script>

    </body>

    </html>
